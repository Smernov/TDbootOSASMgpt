[bits 16]           ; Определение режима 16-битной программы
[org 0x7C00]        ; Начало загрузочного сектора (все ОС начинаются с этого адреса)

; Определим видеопамять
VGA_MEMORY equ 0xB8000    ; Адрес видеопамяти для текста (режим 80x25)

; Цвета для символов
WHITE_ON_BLACK equ 0x0F    ; Белый текст на черном фоне

; Начало программы
start:
    ; Инициализация видеопамяти
    mov si, hello_message      ; Адрес строки "Hello, World!"
    mov di, VGA_MEMORY         ; Адрес видеопамяти для текста
    mov cx, 13                 ; Длина строки (13 символов)

print_char:
    ; Проверка на конец строки
    cmp byte [si], 0
    je done

    ; Получение символа из строки
    mov al, [si]
    ; Запись символа и его атрибута (цвет) в видеопамять
    mov ah, WHITE_ON_BLACK     ; Атрибут: белый текст на черном фоне
    mov [di], ax               ; Запись символа и атрибута в видеопамять
    add si, 1                  ; Переход к следующему символу
    add di, 2                  ; Переход к следующей ячейке видеопамяти
    loop print_char            ; Повторяем, пока не напишем всю строку

done:
    ; Бесконечный цикл, чтобы программа не завершилась
    jmp $

hello_message db 'Hello, World!', 0    ; Сообщение для вывода

times 510 - ($ - $$) db 0              ; Заполнение оставшегося пространства нулями
dw 0xAA55                             ; Магическая сигнатура загрузчика
